<div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<h5 class="mt-5 text-center">TreeGrid Demo</h5>
			<div class="e-resizable mt-5">
				<!-- <div style="text-align: end;">
					<button id='add' class="btn btn mb-2 flot-right" style="background: #80808087;"
						(click)='onClick()'>Add New Column</button>
				</div> [enableInfiniteScrolling]='true' [sortSettings]="sortSettings"-->
				<!-- <div class="grid-freezecol">
                    <ejs-dropdownlist id='direction' #directiondropdown index='0' [dataSource]='directionData'
                        (change)='directionChange($event)' [fields]='fields'></ejs-dropdownlist>
                </div> -->
				<ejs-treegrid #treeGridObj #grid [dataSource]="data" (toolbarClick)='toolbarClick($event)'
					[toolbar]='toolbarOption' [treeColumnIndex]="1" [allowFiltering]="true" [allowSorting]="true"
					childMapping="subtasks" [pageSettings]="pageSettings" [filterSettings]="filterSettings"
					[allowResizing]='true' [allowReordering]='true' [allowRowDragAndDrop]='true'
					[showColumnChooser]='true' [allowSelection]='true' [selectionSettings]='selectionOptions'
					[contextMenuItems]='contextMenuItems' [editSettings]='editSettings' height='400' width='100%'
					[frozenColumns]='0' (contextMenuClick)='contextMenuClick($event)'
					(contextMenuOpen)='contextMenuOpen($event)' (queryCellInfo)='customizeCell($event)'
					(rowSelected)='rowSelected($event)' (rowDeselected)='rowDeselected($event)'
					(actionComplete)="sort($event)">
					<e-columns>
						<e-column type="checkbox" width='40' textAlign='center'>
						</e-column>
						<e-column field='taskID' isPrimaryKey=true headerText='Task ID' width='80' textAlign='Right'>
						</e-column>
						<e-column field='taskName' headerText='Task Name' width='200'
							[customAttributes]='customAttributes'>
						</e-column>
						<e-column field='startDate' headerText='Start Date' width='100' format="yMd" textAlign='Right'>
						</e-column>
						<e-column field='duration' headerText='Duration' width='90' textAlign='Right'>
						</e-column>
						<!-- [filterBarTemplate]="templateOptions" -->
					</e-columns>
				</ejs-treegrid>
			</div>
		</div>
		<!-- <div class="col-md-12 property-section">
			<div class="property-panel-section" style="margin-top:50px">
				<div class="property-panel-header">
					Properties
				</div>
				<table id="property" class="property-panel-table mt-5" title="Properties" style="width: 100%">
					<tr style="height: 50px">
						<td>
							<div>
								Hierarchy Mode
							</div>
						</td>
						<td>
							<div>
								<ejs-dropdownlist #dropdown1 id='mode' width='100px' [dataSource]='d1data'
									[fields]='fields1' value='Parent' (change)="change($event)"></ejs-dropdownlist>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div> -->
	</div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Change column header Text
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="mb-3">
					<label for="exampleFormControlInput1" class="form-label">
						Header Text
					</label>
					<input type="text" class="form-control" id="exampleFormControlInput1" [(ngModel)]="changeHeader"
						name="changeHeader">
				</div>
				<table id="property" class="property-panel-table" title="Properties" style="width: 100%">
					<!-- <tr style="height: 50px">
						<td style="width: 20%">
							<div style="padding-top: 10px">
								Column
							</div>
						</td>
						<td style="width: 80%;padding-right: 10px">
							<div>
								<ejs-dropdownlist #dropdown2 id='ddlelement' width='120px' [dataSource]='d2data'
									[fields]='ddlfields' value='taskID' (change)="onChange($event)"></ejs-dropdownlist>
							</div>
						</td>
					</tr> -->
					<tr>
						<td style="width: 50%">
							<div>
								Column Alignment
							</div>
						</td>
						<td style="width: 50%;padding: 10px 10px 10px 0px">
							<div>
								<ejs-dropdownlist #dropdown3 id='element' width='120px' [dataSource]='d3data'
									[fields]='fields' value='Right' (change)="changeAlignment($event)">
								</ejs-dropdownlist>
							</div>
						</td>
					</tr>
					<tr>
						<td style="width: 50%">
							<label for="exampleColorInput" class="form-label">
								Column Background Color
							</label>
						</td>
						<td style="width: 50%;padding: 10px 10px 10px 0px">
							<div>
								<input type="color" [(ngModel)]="treeGridobject.columnColor"
									class="form-control form-control-color" id="exampleColorInput" value="#563d7c"
									title="Choose your color">
							</div>
						</td>

					</tr>
					<tr>
						<td style="width: 50%">
							<label for="ColorInputText" class="form-label">
								Column Text Color
							</label>
						</td>
						<td style="width: 50%;padding: 10px 10px 10px 0px">
							<div>
								<input type="color" [(ngModel)]="treeGridobject.columnColorText"
									class="form-control form-control-color" id="ColorInputText" value="#563d7c"
									title="Choose your color">
							</div>
						</td>

					</tr>
					<tr>
						<td style="width: 50%">
							<label for="ColorInputText" class="form-label">
								Font-size
							</label>
						</td>
						<td style="width: 50%;padding: 10px 10px 10px 0px">
							<div class="input-group mb-3">
								<span class="input-group-text" id="basic-addon1">Px</span>
								<input type="number" class="form-control"
									[(ngModel)]="treeGridobject.columnColorFontSize" placeholder="Font-size in px"
									aria-label="Username" aria-describedby="basic-addon1">
							</div>
						</td>

					</tr>
				</table>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
					Close
				</button>
				<button type="submit" class="btn btn-primary" (click)="click()">
					Save changes
				</button>
			</div>
		</div>
	</div>
</div>

<!-- Add New column Modal-->
<div class="modal fade" id="exampleModalAdd" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Add New Column</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="mb-3">
					<label for="exampleFormControlInput1" class="form-label">Column Name</label>
					<input type="text" class="form-control" id="exampleFormControlInput1" [(ngModel)]="columnName"
						name="columnName">
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				<button type="submit" class="btn btn-primary" (click)="AddColumn()">Save</button>
			</div>
		</div>
	</div>
</div>

<!-- Delete Column Modal -->
<div class="modal fade" id="exampleModalDelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Delete!
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
				</button>
			</div>
			<div class="modal-body">
				<div class="mb-3">
					<label for="exampleFormControlInput1" class="form-label">
						Are you sure you want to delete this column
						<strong>
							{{treeGridobject.deleteHeaderName}}
						</strong>
					</label>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
					Close
				</button>
				<button type="submit" class="btn btn-primary" (click)="deleteColumn()">
					Delete
				</button>
			</div>
		</div>
	</div>
</div>


<!-- Filter Column -->
<div class="modal fade" id="filterModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Filter
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
				</button>
			</div>
			<div class="modal-body">
				<div class="mb-3">
					<div class="property-panel-section">
						<table id="property" class="property-panel-table" title="Properties" style="width: 100%">
							<tr style="height: 50px">
								<td>
									<div>
										Hierarchy Mode
									</div>
								</td>
								<td>
									<div>
										<ejs-dropdownlist #dropdown1 id='mode' width='100px' [dataSource]='d1data'
											[fields]='fields1' value='Parent' (change)="change($event)">
										</ejs-dropdownlist>
									</div>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- Multi speaker -->

<div class="modal fade" id="multisorting" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Multi Sorting
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
				</button>
			</div>
			<div class="modal-body">
				<div class="mb-3">
					<div class="property-panel-section">
						<table id="property" class="property-panel-table" title="Properties" style="width: 100%">
							<tr>
								<td style="width: 70%">
									<div>
										Task Id
									</div>
								</td>
								<td style="width: 30%;padding:10px 10px 10px 0px">
									<div class="col-md-6">
										<ejs-checkbox #taskID (change)="onClick1($event)">
										</ejs-checkbox>
									</div>
								</td>
							</tr>
							<tr>
								<td style="width: 70%">
									<div>
										Task Name
									</div>
								</td>
								<td style="width: 30%;padding:10px 10px 10px 0px">
									<div class="col-md-6">
										<ejs-checkbox #taskName (change)="onClick2($event)">
										</ejs-checkbox>
									</div>
								</td>
							</tr>
							<tr>
								<td style="width: 70%">
									<div>
										Start Date
									</div>
								</td>
								<td style="width: 30%; padding:10px 10px 10px 0px">
									<div class="col-md-6">
										<ejs-checkbox #startDate (change)="onClick3($event)"></ejs-checkbox>
									</div>
								</td>
							</tr>
							<tr>
								<td style="width: 70%">
									<div>
										Duration
									</div>
								</td>
								<td style="width: 30%; padding:10px 10px 10px 0px">
									<div class="col-md-6">
										<ejs-checkbox #duration (change)="onClick4($event)"></ejs-checkbox>
									</div>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Frozen Column -->


<div class="modal fade" id="frozenColumn" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Multi Sorting
				</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
				</button>
			</div>
			<div class="modal-body">
				<div class="mb-3">
					<div class="property-panel-section">
						<div class="grid-freezeprop">
							<div class="grid-freezecol">
								<div class="grid-freezecol">
									<span>
										Column
									</span>
								</div>
								<div class="grid-freezecol">
									<ejs-dropdownlist id='column' #columndropdown index='3' [dataSource]='columnData'
										(change)='columnChange($event)' [fields]='fieldsFroz'></ejs-dropdownlist>
								</div>
							</div>
							<div class="grid-freezecol">
								<div class="grid-freezecol">
									<span>
										Freeze Direction
									</span>
								</div>
								<div class="grid-freezecol">
									<ejs-dropdownlist id='direction' #directiondropdown index='0'
										[dataSource]='directionData' (change)='directionChange($event)'
										[fields]='fieldsFroz'></ejs-dropdownlist>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>